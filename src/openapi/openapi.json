{
    "openapi": "3.0.1",
    "info": {
        "title": "Authentication API",
        "description": "This API provides endpoints for user registration, authentication, account activation, and password reset. It handles user authentication using JWT tokens and provides secure access to protected resources. All operations are protected by a JWT-based authentication system. Users can register, authenticate, reset their passwords, and activate their accounts through this API.",
        "contact": {
            "name": "OUSSENI BORO",
            "url": "https://binnosoc.com/",
            "email": "ousseni.boro@binnosoc.com"
        },
        "version": "v1"
    },
    "servers": [
        {
            "url": "http://localhost:8088/api-sim/v1",
            "description": "Generated server url"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "tags": [
        {
            "name": "Authentication",
            "description": "Operations related to user authentication"
        }
    ],
    "paths": {
        "/auth/reset-password": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Show password reset page",
                "description": "Validates the password reset token and displays the password reset page.",
                "operationId": "showResetPasswordPage",
                "parameters": [
                    {
                        "name": "token",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid or expired token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "Token valid, password reset page displayed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Handle password reset",
                "description": "Handles the password reset process once the user submits their new password.",
                "operationId": "handlePasswordReset",
                "parameters": [
                    {
                        "name": "token",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "newPassword",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid or expired token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "Password reset successful, user redirected to login page",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "description": "Registers a new user and sends an account activation email.",
                "operationId": "register",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegistrationRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "202": {
                        "description": "Registration successful, email sent",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid input data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/forgot-password": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Initiate password reset",
                "description": "Sends an email to the user with a link to reset their password.",
                "operationId": "resetPassword",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SetPasswordRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "400": {
                        "description": "Invalid email address",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "Password reset initiated, email sent",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthenticationResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/authenticate": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Authenticate a user",
                "description": "Authenticates a user and returns a JWT token.",
                "operationId": "authenticate",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthenticationRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "401": {
                        "description": "Authentication failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "200": {
                        "description": "Authentication successful, token returned",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthenticationResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/activate-account": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Activate a user account",
                "description": "Activates a user's account using the token sent in the activation email.",
                "operationId": "confirm",
                "parameters": [
                    {
                        "name": "token",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Account activated successfully"
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ContentDisposition": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "filename": {
                        "type": "string"
                    },
                    "charset": {
                        "type": "string"
                    },
                    "size": {
                        "type": "integer",
                        "format": "int64",
                        "deprecated": true
                    },
                    "creationDate": {
                        "type": "string",
                        "format": "date-time",
                        "deprecated": true
                    },
                    "modificationDate": {
                        "type": "string",
                        "format": "date-time",
                        "deprecated": true
                    },
                    "readDate": {
                        "type": "string",
                        "format": "date-time",
                        "deprecated": true
                    },
                    "formData": {
                        "type": "boolean"
                    },
                    "inline": {
                        "type": "boolean"
                    },
                    "attachment": {
                        "type": "boolean"
                    }
                }
            },
            "ErrorResponse": {
                "type": "object",
                "properties": {
                    "headers": {
                        "type": "object",
                        "properties": {
                            "empty": {
                                "type": "boolean"
                            },
                            "location": {
                                "type": "string",
                                "format": "uri"
                            },
                            "host": {
                                "type": "object",
                                "properties": {
                                    "address": {
                                        "type": "object",
                                        "properties": {
                                            "hostAddress": {
                                                "type": "string"
                                            },
                                            "address": {
                                                "type": "string",
                                                "format": "byte"
                                            },
                                            "hostName": {
                                                "type": "string"
                                            },
                                            "linkLocalAddress": {
                                                "type": "boolean"
                                            },
                                            "multicastAddress": {
                                                "type": "boolean"
                                            },
                                            "anyLocalAddress": {
                                                "type": "boolean"
                                            },
                                            "loopbackAddress": {
                                                "type": "boolean"
                                            },
                                            "siteLocalAddress": {
                                                "type": "boolean"
                                            },
                                            "mcglobal": {
                                                "type": "boolean"
                                            },
                                            "mcnodeLocal": {
                                                "type": "boolean"
                                            },
                                            "mclinkLocal": {
                                                "type": "boolean"
                                            },
                                            "mcsiteLocal": {
                                                "type": "boolean"
                                            },
                                            "mcorgLocal": {
                                                "type": "boolean"
                                            },
                                            "canonicalHostName": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "port": {
                                        "type": "integer",
                                        "format": "int32"
                                    },
                                    "unresolved": {
                                        "type": "boolean"
                                    },
                                    "hostName": {
                                        "type": "string"
                                    },
                                    "hostString": {
                                        "type": "string"
                                    }
                                }
                            },
                            "all": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "writeOnly": true
                            },
                            "lastModified": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "date": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "contentLength": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "contentType": {
                                "$ref": "#/components/schemas/MediaType"
                            },
                            "origin": {
                                "type": "string"
                            },
                            "connection": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "ifModifiedSince": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "accessControlAllowCredentials": {
                                "type": "boolean"
                            },
                            "accessControlRequestHeaders": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "accessControlExposeHeaders": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "accessControlRequestMethod": {
                                "$ref": "#/components/schemas/HttpMethod"
                            },
                            "accessControlAllowHeaders": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "accessControlAllowOrigin": {
                                "type": "string"
                            },
                            "accessControlAllowMethods": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/HttpMethod"
                                }
                            },
                            "range": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/HttpRange"
                                }
                            },
                            "contentDisposition": {
                                "$ref": "#/components/schemas/ContentDisposition"
                            },
                            "acceptCharset": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "allow": {
                                "uniqueItems": true,
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/HttpMethod"
                                }
                            },
                            "contentLanguage": {
                                "type": "object",
                                "properties": {
                                    "language": {
                                        "type": "string"
                                    },
                                    "displayName": {
                                        "type": "string"
                                    },
                                    "country": {
                                        "type": "string"
                                    },
                                    "variant": {
                                        "type": "string"
                                    },
                                    "script": {
                                        "type": "string"
                                    },
                                    "unicodeLocaleAttributes": {
                                        "uniqueItems": true,
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "unicodeLocaleKeys": {
                                        "uniqueItems": true,
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "displayLanguage": {
                                        "type": "string"
                                    },
                                    "displayScript": {
                                        "type": "string"
                                    },
                                    "displayCountry": {
                                        "type": "string"
                                    },
                                    "displayVariant": {
                                        "type": "string"
                                    },
                                    "extensionKeys": {
                                        "uniqueItems": true,
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "iso3Language": {
                                        "type": "string"
                                    },
                                    "iso3Country": {
                                        "type": "string"
                                    }
                                }
                            },
                            "accept": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/MediaType"
                                }
                            },
                            "cacheControl": {
                                "type": "string"
                            },
                            "etag": {
                                "type": "string"
                            },
                            "accessControlMaxAge": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "ifMatch": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "vary": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "expires": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "pragma": {
                                "type": "string"
                            },
                            "upgrade": {
                                "type": "string"
                            },
                            "acceptLanguageAsLocales": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "language": {
                                            "type": "string"
                                        },
                                        "displayName": {
                                            "type": "string"
                                        },
                                        "country": {
                                            "type": "string"
                                        },
                                        "variant": {
                                            "type": "string"
                                        },
                                        "script": {
                                            "type": "string"
                                        },
                                        "unicodeLocaleAttributes": {
                                            "uniqueItems": true,
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "unicodeLocaleKeys": {
                                            "uniqueItems": true,
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "displayLanguage": {
                                            "type": "string"
                                        },
                                        "displayScript": {
                                            "type": "string"
                                        },
                                        "displayCountry": {
                                            "type": "string"
                                        },
                                        "displayVariant": {
                                            "type": "string"
                                        },
                                        "extensionKeys": {
                                            "uniqueItems": true,
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "iso3Language": {
                                            "type": "string"
                                        },
                                        "iso3Country": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "ifUnmodifiedSince": {
                                "type": "integer",
                                "format": "int64"
                            },
                            "acceptPatch": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/MediaType"
                                }
                            },
                            "acceptLanguage": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "range": {
                                            "type": "string"
                                        },
                                        "weight": {
                                            "type": "number",
                                            "format": "double"
                                        }
                                    }
                                }
                            },
                            "basicAuth": {
                                "type": "string",
                                "writeOnly": true
                            },
                            "ifNoneMatch": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "bearerAuth": {
                                "type": "string",
                                "writeOnly": true
                            }
                        },
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "body": {
                        "$ref": "#/components/schemas/ProblemDetail"
                    },
                    "statusCode": {
                        "$ref": "#/components/schemas/HttpStatusCode"
                    },
                    "typeMessageCode": {
                        "type": "string"
                    },
                    "detailMessageCode": {
                        "type": "string"
                    },
                    "detailMessageArguments": {
                        "type": "array",
                        "items": {
                            "type": "object"
                        }
                    },
                    "titleMessageCode": {
                        "type": "string"
                    }
                }
            },
            "HttpMethod": {
                "type": "object"
            },
            "HttpRange": {
                "type": "object"
            },
            "HttpStatusCode": {
                "type": "object",
                "properties": {
                    "error": {
                        "type": "boolean"
                    },
                    "is4xxClientError": {
                        "type": "boolean"
                    },
                    "is5xxServerError": {
                        "type": "boolean"
                    },
                    "is3xxRedirection": {
                        "type": "boolean"
                    },
                    "is1xxInformational": {
                        "type": "boolean"
                    },
                    "is2xxSuccessful": {
                        "type": "boolean"
                    }
                }
            },
            "MediaType": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "subtype": {
                        "type": "string"
                    },
                    "parameters": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "qualityValue": {
                        "type": "number",
                        "format": "double"
                    },
                    "concrete": {
                        "type": "boolean"
                    },
                    "charset": {
                        "type": "string"
                    },
                    "wildcardType": {
                        "type": "boolean"
                    },
                    "subtypeSuffix": {
                        "type": "string"
                    },
                    "wildcardSubtype": {
                        "type": "boolean"
                    }
                }
            },
            "ProblemDetail": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "format": "uri"
                    },
                    "title": {
                        "type": "string"
                    },
                    "status": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "detail": {
                        "type": "string"
                    },
                    "instance": {
                        "type": "string",
                        "format": "uri"
                    },
                    "properties": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object"
                        }
                    }
                }
            },
            "RegistrationRequest": {
                "required": [
                    "email",
                    "firstname",
                    "lastname",
                    "password"
                ],
                "type": "object",
                "properties": {
                    "firstname": {
                        "type": "string"
                    },
                    "lastname": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "maxLength": 2147483647,
                        "minLength": 8,
                        "type": "string"
                    }
                }
            },
            "SetPasswordRequest": {
                "required": [
                    "email"
                ],
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string"
                    }
                }
            },
            "AuthenticationResponse": {
                "type": "object",
                "properties": {
                    "token": {
                        "type": "string"
                    }
                }
            },
            "AuthenticationRequest": {
                "required": [
                    "email",
                    "password"
                ],
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "maxLength": 2147483647,
                        "minLength": 8,
                        "type": "string"
                    }
                }
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    }
}